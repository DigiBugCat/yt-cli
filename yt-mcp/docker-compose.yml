services:
  yt-transcribe:
    build: .
    volumes:
      # Mount Firefox cookies (read-only)
      # Uncomment the appropriate line for your OS:

      # Linux:
      # - ~/.mozilla/firefox:/firefox-cookies:ro

      # macOS:
      - ~/Library/Application Support/Firefox/Profiles:/firefox-cookies:ro

      # Windows (use forward slashes):
      # - ${APPDATA}/Mozilla/Firefox/Profiles:/firefox-cookies:ro

      # Mount transcripts directory for persistent storage
      - ./transcripts:/app/transcripts
    environment:
      - ASSEMBLYAI_API_KEY=${ASSEMBLYAI_API_KEY}
      - FIREFOX_COOKIES_PATH=/firefox-cookies
    # For stdio transport (default MCP mode)
    stdin_open: true
    tty: true
